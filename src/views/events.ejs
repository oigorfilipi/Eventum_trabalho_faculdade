<%- include('partials/header', { title: 'Nossos Eventos' }) %>

    <div class="container">
        <% if (message) { %>
            <div class="flash-message <%= message.type %>">
                <%= message.text %>
            </div>
            <% } %>

                <h1>Próximos Eventos</h1>

                <div class="event-list">

                    <% events.forEach(event=> { %>
                        <div class="event-card">
                            <h3>
                                <%= event.title %>
                            </h3>

                            <div class="date">
                                <%= event.date ? new Date(event.date).toLocaleDateString('pt-BR', {timeZone: 'UTC' })
                                    : 'Data a definir' %>

                                    <% if (event.local) { %>
                                        <span style="color: var(--text-secondary); font-weight: 400;">
                                            | Local: <%= event.local %>
                                        </span>
                                        <% } %>
                            </div>

                            <% if (event.organizador) { %>
                                <p style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem;">
                                    Organizado por: <strong>
                                        <%= event.organizador %>
                                    </strong>
                                </p>
                                <% } %>

                                    <p>
                                        <%= event.description || 'Este evento não possui descrição.' %>
                                    </p>

                                    <% if (event.atracoes) { %>
                                        <div class="atracoes-list"
                                            style="margin-bottom: 1.5rem; display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                            <% event.atracoes.split(',').forEach(atracao=> { %>
                                                <span class="atracao-badge"
                                                    style="background-color: var(--border-color); color: var(--text-primary); padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.8rem;">
                                                    <%= atracao %>
                                                </span>
                                                <% }) %>
                                        </div>
                                        <% } %>

                        </div>
                        <% }) %>

                </div>
    </div>

    <%- include('partials/footer') %>